{"title":"优先队列","uid":"b12f8d0edcd683563a684b5335e67e26","slug":"优先队列","date":"2026-01-25T16:00:00.000Z","updated":"2026-01-26T21:08:52.407Z","comments":true,"path":"api/articles/优先队列.json","keywords":null,"cover":null,"content":"<h1 id=\"声明\"><a href=\"#声明\" class=\"headerlink\" title=\"声明\"></a>声明</h1><p>只能存储指定类型的数据，所以需要声明int&#x2F;long long&#x2F;double一类的东西<br><code>priority_queue&lt;int&gt; pq;</code><br>或完整地，声明小根堆</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">priority_queue&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;, greater&lt;<span class=\"type\">int</span>&gt;&gt; min_pq;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"成员函数\"><a href=\"#成员函数\" class=\"headerlink\" title=\"成员函数\"></a>成员函数</h1><p><code>top()</code>查看堆顶元素 O(1)<br><code>push()</code>插入元素并调整 O(log n)<br><code>pop()</code>弹出堆顶并调整 O(log n)<br><code>size()</code>获取元素个数 O(1)<br><code>empty()</code>判断是否为 O(1)<br>注意，没有clear()函数。</p>\n<p>清空可以用：<br><code>pq = priority_queue&lt;int&gt;();</code>重新赋值一个空的<br><code>while(!pq.empty()) pq.pop();</code>全部弹走</p>\n<p><code>top()</code>  无     <code>const value_type&amp;</code><br><code>push()</code> <code>const value_type&amp; val</code>    <code>void</code><br><code>pop()</code>  无     <code>voidsize()无size_type (通常是 size_t)</code><br><code>empty()</code>无     <code>bool</code></p>\n<p>把一个已有的数组变成堆：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; v;</span><br><span class=\"line\"><span class=\"comment\">// 默认建立大根堆</span></span><br><span class=\"line\">std::<span class=\"built_in\">make_heap</span>(v.<span class=\"built_in\">begin</span>(), v.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"><span class=\"comment\">// 建立小根堆</span></span><br><span class=\"line\">std::<span class=\"built_in\">make_heap</span>(v.<span class=\"built_in\">begin</span>(), v.<span class=\"built_in\">end</span>(), std::<span class=\"built_in\">greater</span>&lt;<span class=\"type\">int</span>&gt;());</span><br><span class=\"line\"></span><br><span class=\"line\">插入元素x：</span><br><span class=\"line\">v.<span class=\"built_in\">push_back</span>(x);</span><br><span class=\"line\"><span class=\"built_in\">push_heap</span>(v.<span class=\"built_in\">begin</span>(),v.<span class=\"built_in\">end</span>());<span class=\"comment\">//时间复杂度是Logn</span></span><br><span class=\"line\"></span><br><span class=\"line\">取出堆顶部的元素：</span><br><span class=\"line\"><span class=\"built_in\">pop_heap</span>(v.<span class=\"built_in\">begin</span>(),v.<span class=\"built_in\">end</span>());<span class=\"comment\">//把顶部的元素排到最后面</span></span><br><span class=\"line\"><span class=\"type\">int</span> top = v.<span class=\"built_in\">back</span>();<span class=\"comment\">//取出</span></span><br><span class=\"line\">v.<span class=\"built_in\">pop_back</span>();<span class=\"comment\">//从数列中去掉</span></span><br></pre></td></tr></table></figure>\n","text":"声明只能存储指定类型的数据，所以需要声明int/long long/double一类的东西priority_queue<int> pq;或完整地，声明小根堆 1...","permalink":"/post/优先队列","photos":[],"count_time":{"symbolsCount":825,"symbolsTime":"1 mins."},"categories":[{"name":"算法","slug":"算法","count":11,"path":"api/categories/算法.json"},{"name":"模板","slug":"算法/模板","count":6,"path":"api/categories/算法/模板.json"}],"tags":[{"name":"优先队列","slug":"优先队列","count":1,"path":"api/tags/优先队列.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%A3%B0%E6%98%8E\"><span class=\"toc-text\">声明</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">成员函数</span></a></li></ol>","author":{"name":"LHY","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/256316666?s=400&u=531212165de7b7b90dc6ec2dd44404fc88f4a435&v=4","link":"/","description":"天空中的宝石应该交由天空去寻找","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"FHQ Treap","uid":"6fd4c3b549a94a660b55ba2bdf719c21","slug":"FHQ Treap","date":"2026-01-26T16:00:00.000Z","updated":"2026-01-27T09:07:08.213Z","comments":true,"path":"api/articles/FHQ Treap.json","keywords":null,"cover":null,"text":"基础内容12345678910111213141516171819202122232425262728293031#include <iostream>#inc...","permalink":"/post/FHQ Treap","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"算法","slug":"算法","count":11,"path":"api/categories/算法.json"},{"name":"模板","slug":"算法/模板","count":6,"path":"api/categories/算法/模板.json"}],"tags":[{"name":"FHQ Treap","slug":"FHQ-Treap","count":1,"path":"api/tags/FHQ-Treap.json"}],"author":{"name":"LHY","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/256316666?s=400&u=531212165de7b7b90dc6ec2dd44404fc88f4a435&v=4","link":"/","description":"天空中的宝石应该交由天空去寻找","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"线段树","uid":"a448dfd8ebb4408d1633f0dff8411f1c","slug":"线段树及拓展","date":"2026-01-24T16:00:00.000Z","updated":"2026-01-26T21:28:16.403Z","comments":true,"path":"api/articles/线段树及拓展.json","keywords":null,"cover":null,"text":"线段树初步建树函数1234567891011121314151617181920const int maxn = (int)1e5;struct node { ...","permalink":"/post/线段树及拓展","photos":[],"count_time":{"symbolsCount":"6.4k","symbolsTime":"6 mins."},"categories":[{"name":"算法","slug":"算法","count":11,"path":"api/categories/算法.json"},{"name":"模板","slug":"算法/模板","count":6,"path":"api/categories/算法/模板.json"}],"tags":[{"name":"DFS","slug":"DFS","count":5,"path":"api/tags/DFS.json"},{"name":"线段树","slug":"线段树","count":3,"path":"api/tags/线段树.json"}],"author":{"name":"LHY","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/256316666?s=400&u=531212165de7b7b90dc6ec2dd44404fc88f4a435&v=4","link":"/","description":"天空中的宝石应该交由天空去寻找","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}